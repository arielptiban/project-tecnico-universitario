---
import Escudo from "../components/Escudo.astro";
---

<header
    id="landing-header"
    class="py-3 px-10 flex items-center top-0 w-full justify-between z-40 text-white uppercase"
>
    <div class="flex flex-grow basis-0">
        <a href="/"><Escudo /></a>
    </div>

    <nav class="hidden xl:block sm:hidden">
        <ul
            class="flex [&>li>a]:transition-colors [&>li>a]:duration-500 [&>li>a]:text-current [&>li>a]: font-medium [&>li>a]:text-base [&>li>a]:inline-block [&>li>a]:px-4 [&>li>a]:py-2"
        >
            <li
                class="hover:text-red-500 hover:duration-500 hover:scale-125 hover:transition-transform"
            >
                <a href="/">Inicio</a>
            </li>
            <li
                class="hover:text-red-500 hover:duration-500 hover:scale-125 hover:transition-transform"
            >
                <a href="#model-S">Noticias</a>
            </li>
            <li
                class="hover:text-red-500 hover:duration-500 hover:scale-125 hover:transition-transform"
            >
                <a href="#model-3">Multimedia</a>
            </li>
            <li
                class="hover:text-red-500 hover:duration-500 hover:scale-125 hover:transition-transform"
            >
                <a href="#model-X">Institución</a>
            </li>
            <li
                class="hover:text-red-500 hover:duration-500 hover:scale-125 hover:transition-transform"
            >
                <a href="#model-Y">Plantel</a>
            </li>
        </ul>
    </nav>
    <nav class="flex flex-grow justify-end basis-0">
        <ul
            class="flex [&>li>a]:transition-colors [&>li>a]:duration-500 [&>li>a]:text-current [&>li>a]:font-medium [&>li>a]: text-base [&>li>a]:text-base [&>li>a]:inline-block [&>li>a]:px-4 [&>li>a]:py-2"
        >
            <li
                class="hover:text-red-500 hidden xl:block sm:hidden hover:duration-500 hover:scale-125 hover:transition-transform"
            >
                <a
                    href="https://www.vaz.com.ec/"
                    target="_blank"
                    rel="noopener noreferrer">Tienda</a
                >
            </li>
            <li
                class="hidden hover:text-red-500 xl:block sm:hidden hover:duration-500 hover:scale-125 hover:transition-transform"
            >
                <a
                    href="https://www.tickets.superticket.ec/seller/tecnico-universitario-zp4s"
                    target="_blank"
                    rel="noopener noreferrer">Entradas</a
                >
            </li>
            <li
                class="hidden hover:text-red-500 xl:block sm:hidden hover:duration-500 hover:scale-125 hover:transition-transform"
            >
                <a href="#">Contacto</a>
            </li>
            <li
                class="xl:hidden hover:text-red-500 hover:duration-500 hover:scale-125 hover:transition-transform"
            >
                <a id="menu-btn" href="#">Menú</a>
            </li>
        </ul>
    </nav>

    <!-- Menu desplegable en responsive -->
    <nav
        id="modal-menu"
        class="xl:hidden flex-col bg-black fixed top-0 left-0 right-0 bottom-0 z-50 hidden opacity-0"
    >
        <div class="h-16 p-4 flex items-center justify-end">
            <button id="close-btn" class="p-1">
                <img
                    class="text-white h-[16px]"
                    src="/close-icon.svg"
                    alt="Botón de cierre"
                />
            </button>
        </div>

        <div class="px-7">
            <ul
                class="pt-8 [&>li]:mb-4 [&>li>a]:text-white [&>li>a]:flex [&>li>a]:justify-between [&>li>a]:py-4 [&>li>a]:pl-3"
            >
                <li>
                    <a href="/">
                        Inicio
                        <img
                            class="h-5"
                            alt="arrow icon"
                            src="/arrow-icon.svg"
                        />
                    </a>
                </li>
                <li>
                    <a href="#model-3">
                        Noticias
                        <img
                            class="h-5"
                            alt="arrow icon"
                            src="/arrow-icon.svg"
                        />
                    </a>
                </li>
                <li>
                    <a href="#model-X">
                        Multimedia
                        <img
                            class="h-5"
                            alt="arrow icon"
                            src="/arrow-icon.svg"
                        />
                    </a>
                </li>
                <li>
                    <a href="#model-Y">
                        Institución
                        <img
                            class="h-5"
                            alt="arrow icon"
                            src="/arrow-icon.svg"
                        />
                    </a>
                </li>
                <li>
                    <a href="#power-wall">
                        Plantel
                        <img
                            class="h-5"
                            alt="arrow icon"
                            src="/arrow-icon.svg"
                        />
                    </a>
                </li>
                <li>
                    <a href="#carga">
                        Tienda
                        <img
                            class="h-5"
                            alt="arrow icon"
                            src="/arrow-icon.svg"
                        />
                    </a>
                </li>
                <li>
                    <a href="#carga">
                        Entradas
                        <img
                            class="h-5"
                            alt="arrow icon"
                            src="/arrow-icon.svg"
                        />
                    </a>
                </li>
                <li>
                    <a href="#carga">
                        Contacto
                        <img
                            class="h-5"
                            alt="arrow icon"
                            src="/arrow-icon.svg"
                        />
                    </a>
                </li>
            </ul>
        </div>
    </nav>
</header>
<!-- Responsive modalMenu -->
<script>
    const menuBtn = document.getElementById("menu-btn")!;
    const modalMenu = document.querySelector("#modal-menu")!;
    const menuItems = modalMenu.querySelectorAll("li>a ")!;
    const closeBtn = document.querySelector("#close-btn")!;

    function toggleDropdownMenu() {
        if (modalMenu.classList.contains("hidden")) {
            modalMenu.classList.remove("hidden");
            modalMenu.classList.add("animate-blurred-fade-in");
            modalMenu.classList.remove("animate-fade-out");
        } else {
            // Cuando se cierra
            modalMenu.classList.remove("animate-blurred-fade-in");
            modalMenu.classList.add("animate-fade-out");

            // Espera a que termine la animación para ocultar el modal
            modalMenu.addEventListener("animationend", function handler() {
                modalMenu.classList.add("hidden");
                modalMenu.removeEventListener("animationend", handler);
            });
        }
    }

    menuBtn.addEventListener("click", toggleDropdownMenu);
    closeBtn.addEventListener("click", toggleDropdownMenu);

    menuItems.forEach((Item) => {
        Item.addEventListener("click", toggleDropdownMenu);
    });
</script>
